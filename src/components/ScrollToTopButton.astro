---
import { Icon } from "astro-icon/components";
---

<script>
  const scrollToTop = document.getElementById("scrollToTop");

  window.onscroll = function () {
    handleScroll();
  };

  function handleScroll() {
    if (
      document.body.scrollTop > 20 ||
      document.documentElement.scrollTop > 20
    ) {
      scrollToTop?.classList.remove("hidden");
    } else {
      scrollToTop?.classList.add("hidden");
    }
  }

  function backToTop() {
    window.scrollTo({ top: 0, behavior: "smooth" });
    setTimeout(() => {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }, 500);
  }

  scrollToTop?.addEventListener("click", backToTop);
</script>

<button
  class="hidden drop-shadow-sm bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-full transition delay-150 duration-300 ease-in-out hover:-translate-y-1 hover:scale-110 p-4 fixed bottom-4 right-4"
  id="scrollToTop"
  aria-label="Scroll to top"
>
  <Icon name="tabler:caret-up-filled" class="m-auto" />
</button>
